# Evaluation


### Evaluate output of an experiment
The file `run_evalution.py` in the main project directory takes care of the evaluation of the outputs generated by
the LLMs and can be run in the following way: `python run_evaluation.py -d [path_data_to_eval]`.

The model outputs that should be evaluated can be specified in a json file of the following form:

```
{
  "data_to_eval": [
    {
      "generated_plans_path": [PATH TO OUTPUT DIR],
      "evaluation_results_file": [PATH TO EVALUATION FILE],
      "gold_plan_dir": [PATH TO DIR WITH GOLD PLANS],
      "is_complete_plan": True | False
    },
    {
      "generated_plans_path": [PATH TO OUTPUT DIR],
      "evaluation_results_file": [PATH TO EVALUATION FILE],
      "gold_plan_dir": [PATH TO DIR WITH GOLD PLANS],
      "is_complete_plan": True | False
    },
    ...
   }
```
where 
* "generated_plans_path": the path to a directory containing the output files of running the LLM planning
* "evaluation_results_file": the path to the file with the evaluation results that gets created
* "gold_plan_dir": path to the directory containing all gold plans for each of the instances in "generated_plans_path" directory
* "is_complete_plan": True if the plans were generated using a non-interactive planning approache, False otherwise


### Create Overview over different experiments

The `evaluation_overview.py` script puts all evaluation results from the specified folder into one table for comparisons.

`python evaluation_overview.py -d [eval_folder] -o [overview_file]`

where eval_folder is the path to the folder with the evaluation results created by run_evaluation.py and overview_file is the path to the file to be created. 

### Analyze Characteristics of Instances

The script `analysis_instances.py` generates an overview over the number of objects, plan lengths, goals facts and size of initial states of the problem instances of all domains in the data directory.

`python analysis_instances.py -i [data_dir] -o [output_file]`

where `data_dir` is optional and defaults to utils.paths.DATADIR